<div
class="${prefix}image
{{#if simple}} ${prefix}image-simple
{{else}} ${prefix}image-bordered
{{/if}}
{{#if customHeight <= 100}} ${prefix}image-small{{/if}}
{{#if message}} ${prefix}image-with-message{{/if}}
{{#if className}} {{className}}{{/if}}"

{{#if inlineStyle}}
  style="{{inlineStyle}}"
{{/if}}
>

  {{#if url || base64}}
    <img
      class="${prefix}image-native
      {{#if mode}} ${prefix}image-native-{{hyphenate(mode)}}{{/if}}"

      {{#if url}}
        src="{{
          formatUrl
          ? formatUrl({
              url: url,
              width: customWidth,
              height: customHeight,
              responsive: true
            })
          : url
        }}"
      {{else if base64}}
        src="{{base64}}"
      {{/if}}

      {{#if alt}}
        alt="{{alt}}"
      {{/if}}
      draggable="false"
      on-error="error.image"
    >
  {{else}}
    <div
      class="${prefix}image-placeholder
      {{#if !@placeholder}} ${prefix}image-placeholder-empty{{/if}}"
    >
      <slot name="placeholder" />
    </div>
  {{/if}}

  {{#if message || showZoom}}
    <div class="${prefix}image-mask">
      {{#if message}}
        <div class="${prefix}image-message">
          {{{message}}}
        </div>
      {{else if showZoom}}
        <div class="${prefix}image-action">
          <Icon
            name="zoom-in-line"
            on-click.native="zoom.image"
          />
        </div>
      {{/if}}
    </div>
  {{/if}}


  {{#if uploadTitle}}
    {{#if uploadImage}}
      <Upload
        ref="upload"
        className="${prefix}image-footer"
        accept="{{accept}}"
        beforeUpload="{{beforeUploadImage}}"
      >
        {{uploadTitle}}
      </Upload>
    {{else}}
      <div
        class="${prefix}image-footer"
        on-click="uploadClick.image"
      >
        {{uploadTitle}}
      </div>
    {{/if}}
  {{/if}}

  {{#if isLoading}}
    <Spin
      size="small"
      fixed
    />
  {{/if}}

</div>