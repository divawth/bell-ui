@import '../../../env'

$image-padding = 2px
$image-icon-size = 16px

$image-mask-bg = rgba(0,0,0,0.4)
$image-mask-text = #fff
$image-mask-text-shadow = rgba(200,200,200,0.5)

{$selector-class-prefix + '-image'}
  display inline-block
  color $brand-muted
  font-size $font-size-default
  line-height $ui-multiple-line-height
  background-color $brand-white
  border-radius $border-radius-default
  text-align center
  position relative
  user-select none
  box-sizing content-box

  > {$selector-class-prefix + '-spin-fixed'}
    top 0
    left 0
    right 0
    bottom 0
    border-radius $border-radius-default
    background-color $brand-mask-dark-color

  {$selector-class-prefix + '-spin-icon'}
    color $brand-white

{$selector-class-prefix + '-image'}:hover,
{$selector-class-prefix + '-image-with-message'}
  {$selector-class-prefix + '-image-mask'}
    opacity 1

{$selector-class-prefix + '-image-native'},
{$selector-class-prefix + '-image-placeholder'}
  height 100%
  border-radius $border-radius-default
  background-color $brand-bg-light
  vertical-align top

{$selector-class-prefix + '-image-native-aspect-fit'}
  max-width 100%
  max-height 100%

{$selector-class-prefix + '-image-native-scale-to-fill'}
  width 100%
  height 100%

{$selector-class-prefix + '-image-placeholder-empty'}
  background $brand-bg-light url('~@component/image/image/placeholder-default.png') no-repeat 50% 50%
  background-image -webkit-image-set(
    url('~@component/image/image/placeholder-default@2x.png') 2x
  )

{$selector-class-prefix + '-image-small'}
  {$selector-class-prefix + '-image-placeholder-empty'}
    background-image url('~@component/image/image/placeholder-small.png')
    background-image -webkit-image-set(
      url('~@component/image/image/placeholder-small@2x.png') 2x
    )

{$selector-class-prefix + '-image-with-upload'}
  {$selector-class-prefix + '-image-placeholder-empty'}
    background-position 50% 35%

{$selector-class-prefix + '-image-footer'}
  display block
  position absolute
  bottom 0
  left 0
  right 0
  height 20%
  min-height 24px
  white-space nowrap
  color $brand-white
  font-size $font-size-small
  line-height $ui-single-line-height
  background-color $brand-action-bg-color
  border-bottom-left-radius $border-radius-default
  border-bottom-right-radius $border-radius-default
  transition background-color $form-control-transition-duration
  ui-clickable()

  &:hover
    background-color $brand-action-bg-color-hover

{$selector-class-prefix + '-image-mask'}
  opacity 0
  background-color $brand-mask-dark-color
  position absolute
  top 0
  left 0
  right 0
  bottom 0
  border-radius $border-radius-default
  transition opacity $form-control-transition-duration

  {$selector-class-prefix + '-icon'}
    color $brand-white
    font-size $image-icon-size
    transition color $form-control-transition-duration

    &:hover
      color $brand-primary

{$selector-class-prefix + '-image-with-message'}
  {$selector-class-prefix + '-image-mask'}
    background-color $image-mask-bg

{$selector-class-prefix + '-image-message'}
  color $image-mask-text
  font-size $font-size-small
  line-height $ui-multiple-line-height
  text-shadow 1px 1px 2px $image-mask-text-shadow
  text-align center
  width 80%

{$selector-class-prefix + '-image-action'}
  ui-clickable()

{$selector-class-prefix + '-image-placeholder'},
{$selector-class-prefix + '-image-footer'},
{$selector-class-prefix + '-image-mask'}
  display flex
  align-items center
  justify-content center

{$selector-class-prefix + '-image-bordered'}
  border 1px solid $brand-border
  padding $image-padding

  > {$selector-class-prefix + '-spin-fixed'},
  > {$selector-class-prefix + '-image-mask'},
  > {$selector-class-prefix + '-image-footer'}
    left $image-padding
    right $image-padding
    bottom $image-padding

  > {$selector-class-prefix + '-spin-fixed'},
  > {$selector-class-prefix + '-image-mask'}
    top $image-padding