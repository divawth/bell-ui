@import '../../../env'

$image-padding = 1px
$image-icon-size = 20px

{$selector-class-prefix + '-image'}
  display inline-block
  color $brand-muted
  font-size $font-size-default
  line-height $ui-multiple-line-height
  background-color $brand-bg
  text-align center
  position relative
  user-select none
  box-sizing content-box
  if $border-radius-default > 0
    border-radius $border-radius-default

  > {$selector-class-prefix + '-spin-fixed'}
    top 0
    left 0
    right 0
    bottom 0
    background-color $brand-mask-dark-color
    if $border-radius-default > 0
      border-radius $border-radius-default

  {$selector-class-prefix + '-spin-icon'}
    color $brand-white

{$selector-class-prefix + '-image'}:hover,
{$selector-class-prefix + '-image-with-message'}
  {$selector-class-prefix + '-image-mask'}
    opacity 1

{$selector-class-prefix + '-image'} img,
{$selector-class-prefix + '-image-placeholder'}
  background-color $brand-bg-placeholder
  if $border-radius-default > 0
    border-radius $border-radius-default

{$selector-class-prefix + '-image-placeholder'}
  height 100%

{$selector-class-prefix + '-image-contain'}
  img
    max-width 100%
    max-height 100%

{$selector-class-prefix + '-image-stretch'}
  img
    width 100%
    height 100%

{$selector-class-prefix + '-image-placeholder-default'}
  background $brand-bg-placeholder url('~@component/image/image/image-placeholder-default.png') no-repeat 50% 50%
  background-image -webkit-image-set(
    url('~@component/image/image/image-placeholder-default@2x.png') 2x
  )

{$selector-class-prefix + '-video-placeholder-default'}
  background $brand-bg-placeholder url('~@component/image/image/video-placeholder-default.png') no-repeat 50% 50%
  background-image -webkit-image-set(
    url('~@component/image/image/video-placeholder-default@2x.png') 2x
  )

{$selector-class-prefix + '-image-small'},
{$selector-class-prefix + '-image-mini'}
  {$selector-class-prefix + '-image-message'},
  {$selector-class-prefix + '-image-footer'}
    font-size $font-size-small

{$selector-class-prefix + '-image-small'}
  {$selector-class-prefix + '-image-placeholder-default'}
    background-image url('~@component/image/image/image-placeholder-small.png')
    background-image -webkit-image-set(
      url('~@component/image/image/image-placeholder-small@2x.png') 2x
    )
  {$selector-class-prefix + '-video-placeholder-default'}
    background-image url('~@component/image/image/video-placeholder-small.png')
    background-image -webkit-image-set(
      url('~@component/image/image/video-placeholder-small@2x.png') 2x
    )

{$selector-class-prefix + '-image-mini'}
  {$selector-class-prefix + '-image-placeholder-default'}
    background-image url('~@component/image/image/image-placeholder-mini.png')
    background-image -webkit-image-set(
      url('~@component/image/image/image-placeholder-mini@2x.png') 2x
    )
  {$selector-class-prefix + '-video-placeholder-default'}
    background-image url('~@component/image/image/video-placeholder-mini.png')
    background-image -webkit-image-set(
      url('~@component/image/image/video-placeholder-mini@2x.png') 2x
    )

{$selector-class-prefix + '-image-with-upload'}
  {$selector-class-prefix + '-image-placeholder-default'},
  {$selector-class-prefix + '-video-placeholder-default'}
    background-position 50% 32%
  &{$selector-class-prefix + '-image-mini'}
    {$selector-class-prefix + '-image-placeholder-default'},
    {$selector-class-prefix + '-video-placeholder-default'}
      background-position 50% 20%

{$selector-class-prefix + '-image-footer'}
  position absolute
  bottom 0
  left 0
  right 0
  height 20%
  min-height 24px
  white-space nowrap
  font-size $font-size-default
  line-height 1
  if $border-radius-default > 0
    border-bottom-left-radius $border-radius-default
    border-bottom-right-radius $border-radius-default

{$selector-class-prefix + '-image-footer-enabled'}
  color $brand-text-mask-title-color
  background-color $brand-text-mask-bg-color
  transition background-color $form-control-transition-duration
  ui-clickable()
  &:hover
    background-color $brand-text-mask-bg-color-hover

{$selector-class-prefix + '-image-footer-disabled'}
  color $brand-disabled
  background-color $brand-bg-disabled

{$selector-class-prefix + '-image-mask'}
  opacity 0
  background-color $brand-mask-dark-color
  position absolute
  top 0
  left 0
  right 0
  bottom 0
  transition opacity $form-control-transition-duration

  if $border-radius-default > 0
    border-radius $border-radius-default

  {$selector-class-prefix + '-icon'}
    color $brand-white
    font-size $image-icon-size
    transition color $form-control-transition-duration

    &:hover
      color $brand-primary

{$selector-class-prefix + '-image-with-message'}
  {$selector-class-prefix + '-image-mask'}
    background-color $brand-text-mask-bg-color

{$selector-class-prefix + '-image-message'}
  color $brand-text-mask-title-color
  font-size $font-size-default
  line-height $ui-multiple-line-height
  text-shadow $brand-text-mask-text-shadow
  text-align center
  width 80%

{$selector-class-prefix + '-image-action'}
  ui-clickable()

{$selector-class-prefix + '-image-placeholder'},
{$selector-class-prefix + '-image-footer'},
{$selector-class-prefix + '-image-mask'}
  display flex
  align-items center
  justify-content center

{$selector-class-prefix + '-image-bordered'}
  border 1px solid $brand-border
  padding $image-padding

  > {$selector-class-prefix + '-spin-fixed'},
  > {$selector-class-prefix + '-image-mask'},
  > {$selector-class-prefix + '-image-footer'}
    left $image-padding
    right $image-padding
    bottom $image-padding

  > {$selector-class-prefix + '-spin-fixed'},
  > {$selector-class-prefix + '-image-mask'}
    top $image-padding