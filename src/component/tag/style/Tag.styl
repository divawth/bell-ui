@import '../../../env'

$tag-close-icon-size = 14px
$tag-text-icon-gap = 4px

$tag-size-hash = {
  default: {
    height: 24px,
    font-size: 12px,
    padding-horizontal: 8px,
  },
  large: {
    height: 28px,
    font-size: 14px,
    padding-horizontal: 10px,
  }
}

$tag-brand-hash = {
  primary: {
    color: $brand-primary,
    bg-color: $brand-primary-bg,
    border-color: $brand-primary-border,
    text-color: $brand-white,
  },
  success: {
    color: $brand-success,
    bg-color: $brand-success-bg,
    border-color: $brand-success-border,
    text-color: $brand-white,
  },
  error: {
    color: $brand-error,
    bg-color: $brand-error-bg,
    border-color: $brand-error-border,
    text-color: $brand-white,
  },
  info: {
    color: $brand-info,
    bg-color: $brand-info-bg,
    border-color: $brand-info-border,
    text-color: $brand-white,
  },
  warning: {
    color: $brand-warning,
    bg-color: $brand-warning-bg,
    border-color: $brand-warning-border,
    text-color: $brand-white,
  },
}


tag-size-style(style)
  ui-set('font-size', style['font-size'])
  ui-set('height', style['height'])
  ui-set('padding', 0 style['padding-horizontal'])

tag-brand-style(style)
  ui-set('background-color', style['bg-color'])
  ui-set('border-color', style['border-color'])
  ui-set('color', style['color'])

  {$selector-class-prefix + '-tag-icon'} > {$selector-class-prefix + '-icon'},
  {$selector-class-prefix + '-tag-close-button'} > {$selector-class-prefix + '-icon'}
    ui-set('color', style['color'])

  &{$selector-class-prefix + '-tag-checked'}
    ui-set('background-color', style['color'])
    ui-set('border-color', style['color'])
    ui-set('color', style['text-color'])

    {$selector-class-prefix + '-tag-icon'} > {$selector-class-prefix + '-icon'},
    {$selector-class-prefix + '-tag-close-button'} > {$selector-class-prefix + '-icon'}
      ui-set('color', style['text-color'])

{$selector-class-prefix + '-tag'}
  display inline-flex
  align-items center
  border 1px solid $brand-border
  background-color $brand-bg-light
  color $brand-content
  border-radius $border-radius-default
  line-height $ui-single-line-height
  white-space nowrap
  box-sizing border-box
  transition background-color $form-control-transition-duration, border-color $form-control-transition-duration, color $form-control-transition-duration

{$selector-class-prefix + '-tag-checked'}
  background-color $brand-border

{$selector-class-prefix + '-tag-closable'}
  padding-right 0

{$selector-class-prefix + '-tag-checkable'}
  user-select none
  ui-clickable()

{$selector-class-prefix + '-tag-icon'}
  line-height 0
  margin-right $tag-text-icon-gap

{$selector-class-prefix + '-tag-close-button'}
  line-height 0
  margin-left $tag-text-icon-gap
  user-select none
  ui-clickable()

  > {$selector-class-prefix + '-icon'}
    color $brand-close-color
    font-size $tag-close-icon-size

    transition color $form-control-transition-duration

    &:hover
      color $brand-close-color-hover

// 放在最后，避免被覆盖
{$selector-class-prefix + '-tag'}
  ui-connect(
    hash: $tag-size-hash,
    each: tag-size-style
  )
  ui-connect(
    hash: $tag-brand-hash,
    each: tag-brand-style
  )

{$selector-class-prefix + '-tag-pure'}
  border 0
  background-color transparent
  color $brand-white

  {$selector-class-prefix + '-tag-close-button'} > {$selector-class-prefix + '-icon'},
  {$selector-class-prefix + '-tag-close-button'} > {$selector-class-prefix + '-icon'}:hover
    color inherit